<ol class="breadcrumb">
    <li>Scraper Generator</a></li>
    <li><a href="#/zero">My Projects</a></li>
    <li><a href="#/two/{{site.name}}">{{site.name}}</a></li>
    <li class="active">Run</li>
</ol>
<div class="col-md-4" ng-show="authRequired">
    <div class="tile">
        <div class="form-group">
            <input type="text" ng-model="marketplaceURL" class="form-control"
                   placeholder="(e.g. https://your-company.kidocloud.com)"/>
            <hr>
            <button ng-click="authenticate()" class="btn">Authenticate</button>
        </div>
    </div>
</div>
<div class="col-md-8" ng-show="!authRequired && !executionResult">
    <div class="form-inline" role="form" style="float:left">
        <a ng-click="createNewService()" class="btn btn-primary"><span class="fui-plus"></span>New Service</a>
    </div>
    <div class="form-inline" role="form" style="float:right">
        <label>Timeout (in seconds):</label>
        <input ng-model="timeout" class="form-control" placeholder="timeout">
    </div>
    <table class="table" ng-model="services">
        <thead>
        <tr>
            <th>Service</th>
            <th>Runs in</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="s in services">
            <td class="three-cols-main-column" ng-click="!running && runIn(s)">
                <a><label>{{ s.name }}</label></a>
            </td>
            <td class="three-cols-secondary-column">
                <label>{{ s.runOn.type === 'agent' ? s.runOn.name : 'cloud' }}</label>
            </td>
            <td class="three-cols-secondary-column" align="right">
                <button ng-click="deleteService(s)" class="btn btn-danger btn-sm">
                    <span class="fui-cross"></span>
                    Delete
                </button>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<div ng-show="executionResult">
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button ng-click="!running && runAgain()" class="btn btn-primary" ng-disabled="running">Run Again</button>
            <button ng-click="back()" class="btn">Back</button>
        </div>
    </div>
    <h6>Results:</h6>
    <pre>{{executionResult}}</pre>
</div>